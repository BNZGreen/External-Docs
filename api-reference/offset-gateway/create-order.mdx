---
title: "Create Order"
description: "Create a new carbon offset order through the offset gateway"
api: "POST /orders/create-order"
---

## Request Headers

<ParamField header="x-api-key" type="string" required>
  Api key of Client
</ParamField>

<ParamField header="x-payload-signature" type="string" required>
  Signature for payload verification
</ParamField>

## Request Body

<ParamField body="emission_amount" type="number" required>
  The total amount of emissions to be offset
</ParamField>

<ParamField body="emission_unit" type="string">
  Unit of emissions measurement (e.g., 'kg', 'ton')
</ParamField>

<ParamField body="is_user_beneficiary" type="boolean">
  Indicates whether the user is the direct beneficiary of the offset
</ParamField>

<ParamField body="tax_id" type="string">
  Tax identifier for the order
</ParamField>

<ParamField body="user" type="object">
  User information associated with the order
  <Expandable title="user object">
    <ParamField body="name" type="string">
      Full name of the user
    </ParamField>
    <ParamField body="email" type="string">
      Email address of the user
    </ParamField>
  </Expandable>
</ParamField>

## Request Example

```json
{
  "emission_amount": 500,
  "emission_unit": "kg",
  "is_user_beneficiary": true,
  "tax_id": "TAX123456",
  "user": {
    "name": "John Doe",
    "email": "john.doe@example.com"
  }
}
```

## Response

<ResponseField name="url" type="string">
  Redirect URL for completing the offset order
</ResponseField>

## Response Example

```json
{
  "url": "https://example.com/gateway/jwt-token"
}
```

## Possible Errors

<ResponseField name="message" type="string">
  Detailed error message
</ResponseField>

### Common Error Scenarios

<Tabs>
  <Tab title="Offset Limit Exceeded">
  ```json
  {
    "message": "Offset Amount should be in range from 100 to 1000"
  }
  ```
  </Tab>
  
  <Tab title="Order Creation Failure">
  ```json
  {
    "message": "Failed to create order"
  }
  ```
  </Tab>
</Tabs>

## Important Notes

<Note>
  - A JWT token is generated with a 15-minute expiry - The order ID is set as a
  cookie in the response - If `is_user_beneficiary` is false, the system will
  use the client's tax ID
</Note>

## Validation Rules

- `emission_amount` must be within the client's predefined offset limit range
- A payload signature is required in the request headers
- User details are optional but can provide additional context for the order
